package week16;

import java.util.ArrayList;
import java.util.List;

public class Run {

	public static void main(String[] args) {
		String p1="2x^4 + 3x^2 - 10x + 3";
		String p2="8x^3 + 6x - 10";
		//parse(p1);
		parse(p2);

	}

	public static void parse(String p) {
		List<Member> members = new ArrayList<Member>();
		String polin=p.replaceAll("\\s", "").replaceAll("-", "+-");
		System.out.println(polin);
		String[] polinomialParts = polin.split("\\+");
		
		for (String mem : polinomialParts) {
			String[] memParts;
			if(mem.length()>=3){
				memParts=mem.split("x");
				if (memParts.length > 1) {
					members.add(new Member(Integer.parseInt(memParts[0]), 
							Integer.parseInt(memParts[1].substring(1))));
				}
				else{
					members.add(new Member(Integer.parseInt(memParts[0]), 1));
				}
			}else{
				if(mem.contains("x")){
					members.add(new Member(Integer.parseInt(mem.substring(0, mem.length()-2)), 1));
				}
				else{
					members.add(new Member(Integer.parseInt(mem), 0));
				}
			}
		}
		System.out.println(members);
	}
	
	
	
	
}
