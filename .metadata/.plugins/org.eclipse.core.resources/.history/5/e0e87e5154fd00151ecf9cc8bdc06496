package concurrentDataStructure;

import java.util.ArrayList;
import java.util.List;

public class Memory implements IMemory
{
	private final List<Object> data=new ArrayList<>();
	private final int capacity;
	
	public Memory(int capacity){
		this.capacity=capacity;
	}

	@Override
	public void put(Object o) throws InterruptedException {
		synchronized (data) {
			while(data.size()==capacity){
				data.wait();
			}
			data.add(o);
			data.notifyAll();
		}
		
	}

	@Override
	public Object get() throws InterruptedException {
		Object element=null;
		synchronized (data) {
			while(data.size()==0){
				data.wait();
			}
			element=data.remove(data.size()-1);
			data.notifyAll();
		}
		return element;
	}

}
