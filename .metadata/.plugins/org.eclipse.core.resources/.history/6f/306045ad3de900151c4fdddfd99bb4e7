package monday;

import java.util.LinkedList;
import java.util.List;

public class SimpleBlockingQueue {

	private LinkedList<Integer> list=new LinkedList<>();
	private final int MAXSIZE=10;
	Object lock=new Object();
	
	public void produce()throws InterruptedException{
		int value=0;
		while(true){
			synchronized (lock) {
				while(list.size()==MAXSIZE){
					lock.wait();
				}
				list.add(value++);
				lock.notifyAll();
			}
			
		}
	}
	public void consume()throws InterruptedException{
		while(true){
			synchronized (lock) {
				while(list.size()==0){
					lock.wait();
				}
				System.out.print("Size: "+list.size());
				int value=list.removeFirst();
				System.out.println(", value: "+value);
				lock.notifyAll();
			}
			Thread.sleep(500);
		}
		
	}

}
